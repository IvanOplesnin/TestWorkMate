# Payroll Report Generator

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Python –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ CSV-—Ñ–∞–π–ª–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –≤—ã–ø–ª–∞—Ç–∞–º). –ö–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á—ë—Ç–æ–≤ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è-—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
your_project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __main__.py         # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ cli.py              # –ø–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –∑–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ constants.py        # –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (REPLACEMENT_VALUES)
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ employee.py     # dataclass Employee
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ casting.py      # replace_values, cast_names
‚îÇ   ‚îú‚îÄ‚îÄ readers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ csv_reader.py   # —á—Ç–µ–Ω–∏–µ CSV –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ Employee
‚îÇ   ‚îú‚îÄ‚îÄ registry.py         # —Ä–µ–µ—Å—Ç—Ä –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ formatters/
‚îÇ       ‚îî‚îÄ‚îÄ payout.py       # —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –æ—Ç—á—ë—Ç–∞ payout
‚îî‚îÄ‚îÄ tests/                  # pytest-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
```

### üñºÔ∏è –ö–∞–∫ —Ä–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ –ø—Ä–æ–µ–∫—Ç–∞

1. **ASCII-–¥–µ—Ä–µ–≤–æ –≤—Ä—É—á–Ω—É—é**: –æ—Ñ–æ—Ä–º–ª—è–µ—Ç–µ –µ–≥–æ –≤ Markdown —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ –∏ —Å–∏–º–≤–æ–ª–∞–º–∏:

   ```
   your_project/
   ‚îú‚îÄ‚îÄ src/
   ‚îÇ   ‚îî‚îÄ‚îÄ ...
   ‚îî‚îÄ‚îÄ tests/
   ```
2. **–ö–æ–º–∞–Ω–¥–∞ `tree`** (Linux/macOS) –∏–ª–∏ `npm install -g tree-cli` (Windows):

   ```bash
   tree -L 2 your_project/
   ```
3. **Mermaid**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—É —Ç–∏–ø–∞ `tree` –≤ Markdown-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–º Mermaid:

   ```mermaid
   tree
     root your_project
     src [src]
     tests [tests]
   ```

–≠—Ç–∏ –º–µ—Ç–æ–¥—ã –ø–æ–º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–≥–ª—è–¥–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –ø—Ä–æ–µ–∫—Ç–∞.

> –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ Mermaid:

```mermaid
tree
  root your_project
  src [src]
  src --> mainpy("__main__.py")
  src --> clipy("cli.py")
  src --> constantspy("constants.py")
  src --> models
  models --> employeepy("employee.py")
  src --> utils
  utils --> castingpy("casting.py")
  src --> readers
  readers --> csvreaderpy("csv_reader.py")
  src --> registrypy("registry.py")
  src --> formatters
  formatters --> payoutpy("payout.py")
  root --> tests
  tests --> "test_*.py"
```

---

## üè∑Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–æ–≤ –∫–æ–ª–æ–Ω–æ–∫

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–µ–º—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è CSV, –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/constants.py` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–ª–æ–≤–∞—Ä—å `REPLACEMENT_VALUES`. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä—ã –∫–ª—é—á: —Å–ø–∏—Å–æ–∫\_–∞–ª–∏–∞—Å–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```python
REPLACEMENT_VALUES = {
    # ...
    'rate': ['hourly_rate', 'salary', 'tariff'],
    'department': ['dept', 'division'],
}
```

–ì–¥–µ –∫–ª—é—á ‚Äî –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –∏–º—è –ø–æ–ª—è, –∞ —Å–ø–∏—Å–æ–∫ ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ CSV.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/<your-username>/payroll-report-generator.git
   cd payroll-report-generator
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

   ```bash
   python3 -m venv .venv
   source .venv/bin/activate    # Linux/macOS
   .\.venv\Scripts\activate   # Windows
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

   ```bash
   pip install -U pytest pytest-cov
   ```

> –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ö–æ–¥—è—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Python.

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ CSV-—Ñ–∞–π–ª—ã —Å –ª—é–±—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫ –∏–∑ –Ω–∞–±–æ—Ä–∞ `{id, email, name, department, hours_worked, rate}` (–∞–ª—å—è—Å–∞–º–∏ –±—É–¥—É—Ç `hourly_rate`, `salary` –¥–ª—è —Å—Ç–∞–≤–∫–∏).
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–∞:

   ```bash
   python -m src --format payout data1.csv data2.csv --report output.txt
   ```
3. –ì–æ—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ `output.txt`, –∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã CLI

* `files` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ø—É—Ç–∏ –∫ CSV-—Ñ–∞–π–ª–∞–º.
* `-f, --format` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `payout`): —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞.
* `--report` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `output.txt`): –∏–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

---

## ‚ú® –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç—á—ë—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `src/formatters/<your_report>.py`.
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `registry` –∏ `Employee`:

   ```python
   from ..registry import registry
   from ..models.employee import Employee
   ```
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ—ë:

   ```python
   @registry.register("your_report")
   def format_report_your(employees: list[Employee]) -> str:
       """–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –æ—Ç—á—ë—Ç–∞ –¥–ª—è `--help`."""
       # –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞...
       return output_str
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å `--format your_report`.

> –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–µ—Å—Ç—Ä—É –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥ CLI –∏–ª–∏ registry: –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö.

---

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `pytest` –∏ `pytest-cov`.

```bash
pytest --cov=src
```

–¶–µ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è ‚Äî ‚â•‚ÄØ80% –ø–æ –≤–∞–∂–Ω—ã–º –º–æ–¥—É–ª—è–º. –ü–∞–ø–∫–∞ `tests/` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç—ã –¥–ª—è:

* `models/employee.py`
* `utils/casting.py`
* `readers/csv_reader.py`
* `registry.py`
* `formatters/payout.py`

---

## üõ†Ô∏è –°—Ç–∏–ª—å –∏ –ª–∏–Ω—Ç–∏–Ω–≥

* –ö–æ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ PEP‚ÄØ8.
* –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–∏–Ω—Ç–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `flake8`) –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ¬©¬†2025
