# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –û—Ç—á–µ—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Python –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ CSV-—Ñ–∞–π–ª–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –≤—ã–ø–ª–∞—Ç–∞–º). –ö–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á—ë—Ç–æ–≤ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è-—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îî‚îÄ‚îÄ‚îÄTestWorkMate               
    ‚îÇ   casting.py                     # replace_values, cast_names                     
    ‚îÇ   cli.py                         # –ø–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
    ‚îÇ   constant.py                    # –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (REPLACEMENT_VALUES)            
    ‚îÇ   csv_reader.py                  # —á—Ç–µ–Ω–∏–µ CSV –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ Employee      
    ‚îÇ   employee.py                    # –æ–±—äen Employee      
    ‚îÇ   main.py                        # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞   
    ‚îÇ   pytest.ini                     # –ò–Ω—Å—Ç—Ä—É–∫–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–æ–¥—É–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.             
    ‚îÇ   Readme.md             
    ‚îÇ   register.py                    # —Ä–µ–µ—Å—Ç—Ä –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤      
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄformatters
    ‚îÇ       payout.py                  # —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄtests                          # pytest - –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
            test_casting.py
            test_csv_reader.py
            test_employee.py
            test_register.py
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/IvanOplesnin/TestWorkMate.git
   cd TestWorkMate
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

   ```bash
   python3 -m venv .venv
   source .venv/bin/activate    # Linux/macOS
   .\.venv\Scripts\activate   # Windows
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

   ```bash
   pip install -U pytest pytest-cov
   ```

> –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ö–æ–¥—è—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Python.

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ CSV-—Ñ–∞–π–ª—ã —Å –ª—é–±—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫ –∏–∑ –Ω–∞–±–æ—Ä–∞ `{id, email, name, department, hours_worked, rate}` (–∞–ª—å—è—Å–∞–º–∏ –±—É–¥—É—Ç `hourly_rate`, `salary` –¥–ª—è —Å—Ç–∞–≤–∫–∏).
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–∞:

   ```bash
   python main.py data1.csv data2.csv --report payout.txt 
   ```
3. –ì–æ—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ `payout.txt`, –∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã CLI

* `files` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ø—É—Ç–∏ –∫ CSV-—Ñ–∞–π–ª–∞–º.
* `-f, --format` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `payout`): —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞.
* `--report` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `output.txt`): –∏–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

---
## üè∑Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–æ–≤ –∫–æ–ª–æ–Ω–æ–∫.

–í–≤–∏–¥—É –Ω–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞ –Ω–∞—à–∏—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ constant.py –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫.
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–µ–º—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è CSV, –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `constant.py` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–ª–æ–≤–∞—Ä—å `REPLACEMENT_VALUES`. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä—ã –∫–ª—é—á: —Å–ø–∏—Å–æ–∫\_–∞–ª–∏–∞—Å–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```python
REPLACEMENT_VALUES = {
    # ...
    'rate': ['hourly_rate', 'salary', 'tariff'],
    'department': ['dept', 'division'],
}
```

–ì–¥–µ –∫–ª—é—á ‚Äî –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –∏–º—è –ø–æ–ª—è, –∞ —Å–ø–∏—Å–æ–∫ ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ CSV.

---

## ‚ú® –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç—á—ë—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `/formatters/<your_report>.py`.
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `register_formatter` –∏ `Employee`:

   ```python
   from registry import register_formatter
   from employee import Employee
   ```
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ—ë:

   ```python
   @register_formatter.add_func("your_report")
   def format_report_your(employees: list[Employee]) -> str:
       """–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –æ—Ç—á—ë—Ç–∞ –¥–ª—è `--help`."""
       # –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞...
       return output_str
   ```
   –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–µ.
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å `--format your_report`.

> –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–µ—Å—Ç—Ä—É –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥ CLI –∏–ª–∏ registry: –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö.

---

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `pytest` –∏ `pytest-cov`.

```bash
pytest --cov=.
```

–¶–µ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è ‚Äî ‚â•‚ÄØ80% –ø–æ –≤–∞–∂–Ω—ã–º –º–æ–¥—É–ª—è–º. –ü–∞–ø–∫–∞ `tests/` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç—ã –¥–ª—è:

* `employee.py`
* `casting.py`
* `csv_reader.py`
* `registry.py`
---
## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞.
### –í –∫–æ–Ω—Å–æ–ª–∏.
![img.png](img.png)
### –°–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã—ã–π —Ñ–∞–π–ª.
![img_1.png](img_1.png)